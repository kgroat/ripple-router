import { getRoute } from './context'

export component Link (props: JSX.IntrinsicElements['a']) {
  const { $goTo } = getRoute();
  const $handleClick = (ev: MouseEvent) => {
    if (ev.ctrlKey || ev.metaKey || ev.shiftKey || ev.altKey) {
      return;
    }
  
    ev.preventDefault();
    $goTo(props.href);
    props.onClick?.(ev);
  }

  <a {...props} onClick={$handleClick}><props.$children /></a>
}
